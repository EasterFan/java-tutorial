<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zipkin | JAVA-TUTORIAL</title>
    <meta name="description" content="Java æ•™ç¨‹">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/java-tutorial/favicon.ico">
    
    <link rel="preload" href="/java-tutorial/assets/css/0.styles.003d3469.css" as="style"><link rel="preload" href="/java-tutorial/assets/js/app.089f19aa.js" as="script"><link rel="preload" href="/java-tutorial/assets/js/4.dcc18508.js" as="script"><link rel="preload" href="/java-tutorial/assets/js/36.3831412b.js" as="script"><link rel="prefetch" href="/java-tutorial/assets/js/10.53a344c8.js"><link rel="prefetch" href="/java-tutorial/assets/js/11.774c5b35.js"><link rel="prefetch" href="/java-tutorial/assets/js/12.8f9ce7c9.js"><link rel="prefetch" href="/java-tutorial/assets/js/13.a00dc96e.js"><link rel="prefetch" href="/java-tutorial/assets/js/14.aa744144.js"><link rel="prefetch" href="/java-tutorial/assets/js/15.1953f6b2.js"><link rel="prefetch" href="/java-tutorial/assets/js/16.15275b78.js"><link rel="prefetch" href="/java-tutorial/assets/js/17.8ef7016f.js"><link rel="prefetch" href="/java-tutorial/assets/js/18.ce1a0558.js"><link rel="prefetch" href="/java-tutorial/assets/js/19.83903e54.js"><link rel="prefetch" href="/java-tutorial/assets/js/20.bedf92bb.js"><link rel="prefetch" href="/java-tutorial/assets/js/21.7434ef0a.js"><link rel="prefetch" href="/java-tutorial/assets/js/22.7a9bd11d.js"><link rel="prefetch" href="/java-tutorial/assets/js/23.1539a2a6.js"><link rel="prefetch" href="/java-tutorial/assets/js/24.91435939.js"><link rel="prefetch" href="/java-tutorial/assets/js/25.8b8d16a1.js"><link rel="prefetch" href="/java-tutorial/assets/js/26.7b8c9d10.js"><link rel="prefetch" href="/java-tutorial/assets/js/27.ee219e5a.js"><link rel="prefetch" href="/java-tutorial/assets/js/28.1d41b81e.js"><link rel="prefetch" href="/java-tutorial/assets/js/29.bce8aa6a.js"><link rel="prefetch" href="/java-tutorial/assets/js/30.1b49db8c.js"><link rel="prefetch" href="/java-tutorial/assets/js/31.ed3cd89f.js"><link rel="prefetch" href="/java-tutorial/assets/js/32.f21185dc.js"><link rel="prefetch" href="/java-tutorial/assets/js/33.d63ca758.js"><link rel="prefetch" href="/java-tutorial/assets/js/34.c2edb17c.js"><link rel="prefetch" href="/java-tutorial/assets/js/35.62eec01e.js"><link rel="prefetch" href="/java-tutorial/assets/js/37.5f5c5c40.js"><link rel="prefetch" href="/java-tutorial/assets/js/5.a5e63d96.js"><link rel="prefetch" href="/java-tutorial/assets/js/6.f900cfa4.js"><link rel="prefetch" href="/java-tutorial/assets/js/7.49d24c76.js"><link rel="prefetch" href="/java-tutorial/assets/js/8.afd1e80c.js"><link rel="prefetch" href="/java-tutorial/assets/js/9.597c39e3.js"><link rel="prefetch" href="/java-tutorial/assets/js/vendors~flowchart.f5cdfab1.js"><link rel="prefetch" href="/java-tutorial/assets/js/vendors~notification.7414fc30.js">
    <link rel="stylesheet" href="/java-tutorial/assets/css/0.styles.003d3469.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/java-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/master/common/dunwu-logo-200.png" alt="JAVA-TUTORIAL" class="logo"> <span class="site-name can-hide">JAVA-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/build/" class="nav-link">
  æ„å»º
</a></li><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/ide/" class="nav-link">
  IDE
</a></li><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/monitor/" class="nav-link router-link-active">
  ç›‘æ§
</a></li></ul></div></div><div class="nav-item"><a href="/java-tutorial/javaee/" class="nav-link">
  JavaEE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Javaç³»åˆ—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/java-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/build/" class="nav-link">
  æ„å»º
</a></li><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/ide/" class="nav-link">
  IDE
</a></li><li class="dropdown-item"><!----> <a href="/java-tutorial/javatool/monitor/" class="nav-link router-link-active">
  ç›‘æ§
</a></li></ul></div></div><div class="nav-item"><a href="/java-tutorial/javaee/" class="nav-link">
  JavaEE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Javaç³»åˆ—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot æ•™ç¨‹ ğŸ“š
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/java-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Zipkin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-tutorial/javatool/monitor/zipkin.html#zipkin-ç®€ä»‹" class="sidebar-link">Zipkin ç®€ä»‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#ç‰¹æ€§" class="sidebar-link">ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#å¤šå¹³å°" class="sidebar-link">å¤šå¹³å°</a></li><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#æ•°æ®" class="sidebar-link">æ•°æ®</a></li></ul></li><li><a href="/java-tutorial/javatool/monitor/zipkin.html#zipkin-å®‰è£…" class="sidebar-link">Zipkin å®‰è£…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#docker" class="sidebar-link">Docker</a></li><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#java" class="sidebar-link">Java</a></li><li class="sidebar-sub-header"><a href="/java-tutorial/javatool/monitor/zipkin.html#ç¼–è¯‘æ–¹å¼" class="sidebar-link">ç¼–è¯‘æ–¹å¼</a></li></ul></li><li><a href="/java-tutorial/javatool/monitor/zipkin.html#zipkin-æ¶æ„" class="sidebar-link">Zipkin æ¶æ„</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java-tutorial/javatool/monitor/zipkin.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zipkin"><a href="#zipkin" class="header-anchor">#</a> Zipkin</h1> <p>Zipkin æ˜¯ä¸€ä¸ªåŸºäº Java å¼€å‘çš„åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿã€‚å®ƒé‡‡é›†æœ‰åŠ©äºè§£å†³æœåŠ¡æ¶æ„ä¸­å»¶è¿Ÿé—®é¢˜çš„å®æ—¶æ•°æ®ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯é‡‡é›†å’ŒæŸ¥æ‰¾æ•°æ®ã€‚</p> <h2 id="zipkin-ç®€ä»‹"><a href="#zipkin-ç®€ä»‹" class="header-anchor">#</a> Zipkin ç®€ä»‹</h2> <h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="header-anchor">#</a> ç‰¹æ€§</h3> <p>å¦‚æœæ—¥å¿—æ–‡ä»¶ä¸­æœ‰è·Ÿè¸ª IDï¼Œåˆ™å¯ä»¥ç›´æ¥è·³è‡³è¯¥è·Ÿè¸ª IDã€‚ å¦åˆ™ï¼Œæ‚¨å¯ä»¥åŸºäºå±æ€§è¿›è¡ŒæŸ¥è¯¢ï¼Œä¾‹å¦‚æœåŠ¡ï¼Œæ“ä½œåç§°ï¼Œæ ‡ç­¾å’ŒæŒç»­æ—¶é—´ã€‚ å°†ä¸ºæ‚¨æ€»ç»“ä¸€äº›æœ‰è¶£çš„æ•°æ®ï¼Œä¾‹å¦‚åœ¨æœåŠ¡ä¸­èŠ±è´¹çš„æ—¶é—´ç™¾åˆ†æ¯”ä»¥åŠæ“ä½œæ˜¯å¦å¤±è´¥ã€‚</p> <p>Zipkin UI è¿˜æä¾›äº†ä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼Œè¯¥å…³ç³»å›¾æ˜¾ç¤ºäº†æ¯ä¸ªåº”ç”¨ç¨‹åºä¸­è·Ÿè¸ªäº†å¤šå°‘ä¸ªè¯·æ±‚ã€‚è¿™å¯¹äºè¯†åˆ«èšåˆè¡Œä¸ºï¼ˆåŒ…æ‹¬é”™è¯¯è·¯å¾„æˆ–å¯¹ä¸èµæˆä½¿ç”¨çš„æœåŠ¡çš„è°ƒç”¨ï¼‰å¾ˆæœ‰å¸®åŠ©ã€‚</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200211161706.png" alt="Zipkin UI"></p> <h3 id="å¤šå¹³å°"><a href="#å¤šå¹³å°" class="header-anchor">#</a> å¤šå¹³å°</h3> <p>Zipkin å®˜æ–¹æ”¯æŒ C#ã€Goã€Javaã€JavaScriptã€Rubyã€Scalaã€PHP è¯­è¨€ã€‚</p> <p>é™¤æ­¤ä»¥å¤–ï¼Œç¤¾åŒºè¿˜è´¡çŒ®äº†å¤šç§å…¶ä»–è¯­è¨€çš„æ”¯æŒï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://zipkin.io/pages/tracers_instrumentation.html" target="_blank" rel="noopener noreferrer">Tracers and Instrumentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="æ•°æ®"><a href="#æ•°æ®" class="header-anchor">#</a> æ•°æ®</h3> <p>Zipkin æœåŠ¡å™¨æ†ç»‘äº†ç”¨äºé‡‡é›†å’Œå­˜å‚¨æ•°æ®çš„æ‰©å±•ã€‚</p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®å¯ä»¥é€šè¿‡ <code>Http</code>ï¼Œ<code>Kafka</code> ã€<code>RabbitMQ</code> æˆ– RPC ä¼ è¾“ã€‚</p> <p>å¹¶å­˜å‚¨åœ¨å†…å­˜ä¸­æˆ– <code>MySQL</code>ã€<code>Cassandra</code> æˆ– <code>Elasticsearch</code> ä¸­ã€‚</p> <p>æ•°æ®ä»¥ json å½¢å¼å­˜å‚¨ï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://zipkin.io/zipkin-api/#/default/post_spans" target="_blank" rel="noopener noreferrer">Zipkin å®˜æ–¹çš„ Swagger API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200211162055.png" alt="Zipkin Swagger API"></p> <h2 id="zipkin-å®‰è£…"><a href="#zipkin-å®‰è£…" class="header-anchor">#</a> Zipkin å®‰è£…</h2> <h3 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h3> <p>Docker å¯åŠ¨æ–¹å¼ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker run -d -p <span class="token number">9411</span>:9411 openzipkin/zipkin
</code></pre></div><h3 id="java"><a href="#java" class="header-anchor">#</a> Java</h3> <blockquote><p>æ³¨æ„ï¼šå¿…é¡»è¿è¡Œåœ¨ JDK8+ ç¯å¢ƒ</p></blockquote> <p>Java å¯åŠ¨æ–¹å¼ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span> -sSL https://zipkin.io/quickstart.sh <span class="token operator">|</span> <span class="token function">bash</span> -s
java -jar zipkin.jar
</code></pre></div><h3 id="ç¼–è¯‘æ–¹å¼"><a href="#ç¼–è¯‘æ–¹å¼" class="header-anchor">#</a> ç¼–è¯‘æ–¹å¼</h3> <p>é€‚ç”¨äºéœ€è¦è®¢åˆ¶åŒ–çš„åœºæ™¯ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># get the latest source</span>
<span class="token function">git</span> clone https://github.com/openzipkin/zipkin
<span class="token builtin class-name">cd</span> zipkin
<span class="token comment"># Build the server and also make its dependencies</span>
./mvnw -DskipTests --also-make -pl zipkin-server clean <span class="token function">install</span>
<span class="token comment"># Run the server</span>
java -jar ./zipkin-server/target/zipkin-server-*exec.jar
</code></pre></div><h2 id="zipkin-æ¶æ„"><a href="#zipkin-æ¶æ„" class="header-anchor">#</a> Zipkin æ¶æ„</h2> <p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20200211155836.png" alt="Zipkin æ¶æ„"></p> <p><code>Tracer</code> å­˜åœ¨äºä½ çš„åº”ç”¨ä¸­ï¼Œå®ƒè´Ÿè´£é‡‡é›†å…³äºå·²å‘ç”Ÿæ“ä½œçš„å®æ—¶å…ƒæ•°æ®ã€‚å®ƒä»¬é€šå¸¸ä¼šæ£€æµ‹åº“ï¼Œå› æ­¤å¯¹äºç”¨æˆ·æ˜¯é€æ˜çš„ã€‚ä¾‹å¦‚ï¼Œå·²æ£€æµ‹çš„ Web æœåŠ¡å™¨è®°å½•å®ƒä½•æ—¶æ¥æ”¶åˆ°è¯·æ±‚ï¼Œä»¥åŠä½•æ—¶å‘é€å“åº”ã€‚æ”¶é›†çš„è·Ÿè¸ªæ•°æ®ç§°ä¸ºè·¨åº¦ï¼ˆSpanï¼‰ã€‚</p> <p>Instrumentation ä¿è¯äº†ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨æ€§å’Œå¾ˆå°‘çš„å¼€é”€ã€‚å› æ­¤ï¼Œå®ƒä»¬ä»…åœ¨å†…éƒ¨ä¼ æ’­ IDï¼Œä»¥å‘ŠçŸ¥æ¥æ”¶æ–¹æ­£åœ¨è¿›è¡Œè¿½è¸ªã€‚å®Œæˆçš„ Span å°†é€šè¿‡å¤–éƒ¨é€šä¿¡å‘ŠçŸ¥ Zipkinï¼Œç±»ä¼¼äºåº”ç”¨ç¨‹åºå¼‚æ­¥æŠ¥å‘ŠæŒ‡æ ‡çš„æ–¹å¼ã€‚</p> <p>ä¾‹å¦‚ï¼Œå½“è·Ÿè¸ªæŸä¸ªæ“ä½œå¹¶ä¸”éœ€è¦å‘å‡º http è¯·æ±‚æ—¶ï¼Œä¼šæ·»åŠ ä¸€äº› header æ¥ä¼ æ’­ IDã€‚header ä¸ç”¨äºå‘é€è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚æ“ä½œåç§°ã€‚</p> <p>èƒ½å¤Ÿå°†æ•°æ®å‘é€åˆ° Zipkin çš„æ£€æµ‹åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ï¼Œè¢«ç§°ä¸º Reporterã€‚Reporter æœ‰å¤šç§ä¼ è¾“æ–¹å¼ï¼Œå¯ä»¥å°†è·Ÿè¸ªæ•°æ®å‘é€åˆ° Zipkin é‡‡é›†å™¨ï¼Œåè€…å°†è·Ÿè¸ªæ•°æ®æŒä¹…åŒ–ä¿å­˜åˆ°å­˜å‚¨ä¸­ã€‚ç¨åï¼ŒAPI ä¼šæŸ¥è¯¢å­˜å‚¨ä»¥å‘ UI æä¾›æ¸²æŸ“æ•°æ®ã€‚</p> <p>ä»¥ä¸‹æ˜¯ Zipkin çš„ä¸€ä¸ªç¤ºä¾‹å·¥ä½œæµï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Code   â”‚ â”‚ Trace Instrumentation â”‚  â”‚ Http Client â”‚  â”‚ Zipkin Collector â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                         â”‚                 â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ â”€â”€â”¤GET /foo â”œâ”€â–¶ â”‚ â”€â”€â”€â”€â”                   â”‚                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ record tags
       â”‚                 â”‚ â—€â”€â”€â”€â”˜                   â”‚                 â”‚
                           â”€â”€â”€â”€â”
       â”‚                 â”‚     â”‚ <span class="token function">add</span> trace headers â”‚                 â”‚
                           â—€â”€â”€â”€â”˜
       â”‚                 â”‚ â”€â”€â”€â”€â”                   â”‚                 â”‚
                               â”‚ record timestamp
       â”‚                 â”‚ â—€â”€â”€â”€â”˜                   â”‚                 â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚ â”€â”€â”¤GET /foo         â”œâ”€â–¶ â”‚                 â”‚
                             â”‚X-B3-TraceId: aa â”‚     â”€â”€â”€â”€â”
       â”‚                 â”‚   â”‚X-B3-SpanId: 6b  â”‚   â”‚     â”‚           â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ invoke
       â”‚                 â”‚                         â”‚     â”‚ request   â”‚
                                                         â”‚
       â”‚                 â”‚                         â”‚     â”‚           â”‚
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â—€â”€â”€â”€â”˜
       â”‚                 â”‚ â—€â”€â”€â”€â”€â”€â”¤200 OK  â”œâ”€â”€â”€â”€â”€â”€â”€ â”‚                 â”‚
                           â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚     â”‚ record duration   â”‚                 â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â—€â”€â”€â”€â”˜
       â”‚ â—€â”€â”€â”¤200 OK  â”œâ”€â”€ â”‚                         â”‚                 â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚ â”€â”€â”¤ asynchronously report span     â”œâ”€â”€â”€â”€â–¶ â”‚
                             â”‚                                â”‚
                             â”‚<span class="token punctuation">{</span>                               â”‚
                             â”‚  <span class="token string">&quot;traceId&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;aa&quot;</span>,              â”‚
                             â”‚  <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;6b&quot;</span>,                   â”‚
                             â”‚  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;get&quot;</span>,                â”‚
                             â”‚  <span class="token string">&quot;timestamp&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1483945573944000</span>,â”‚
                             â”‚  <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">386000</span>,           â”‚
                             â”‚  <span class="token string">&quot;annotations&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>              â”‚
                             â”‚--snip--                        â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://zipkin.io/" target="_blank" rel="noopener noreferrer">Zipkin å®˜ç½‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/openzipkin/zipkin" target="_blank" rel="noopener noreferrer">Zipkin Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/java-tutorial/edit/master/javatool/monitor/zipkin.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/java-tutorial/assets/js/app.089f19aa.js" defer></script><script src="/java-tutorial/assets/js/4.dcc18508.js" defer></script><script src="/java-tutorial/assets/js/36.3831412b.js" defer></script>
  </body>
</html>
